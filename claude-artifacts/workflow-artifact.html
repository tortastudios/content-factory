<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Content Workflow - Complete System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .landing {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .landing h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 1.8em;
        }
        
        .path-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .path-container {
                grid-template-columns: 1fr;
            }
        }
        
        .path-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .path-option:hover {
            border-color: #667eea;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        
        .path-option.first-time {
            border-color: #28a745;
        }
        
        .path-option.returning {
            border-color: #0066cc;
        }
        
        .path-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .path-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .path-description {
            color: #6c757d;
            font-size: 0.95em;
            margin-bottom: 15px;
        }
        
        .path-time {
            color: #667eea;
            font-weight: 600;
        }
        
        .phase {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }
        
        .phase.active {
            border-left-color: #28a745;
            box-shadow: 0 4px 20px rgba(40, 167, 69, 0.2);
        }
        
        .phase.completed {
            border-left-color: #6c757d;
            opacity: 0.8;
        }
        
        .phase-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .phase-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .phase.active .phase-number {
            background: #28a745;
        }
        
        .phase.completed .phase-number {
            background: #6c757d;
        }
        
        .phase h2 {
            color: #2c3e50;
            margin: 0;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .btn {
            background: #667eea;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #667eea, #28a745);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .context-summary {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .context-summary h3 {
            color: #495057;
            margin-bottom: 15px;
        }
        
        .context-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 3px solid #667eea;
        }
        
        .content-output {
            background: #f8f9fa;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            white-space: pre-wrap;
            font-family: Georgia, serif;
            line-height: 1.8;
        }
        
        .hidden {
            display: none;
        }
        
        .explanation {
            background: #e7f3ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .explanation h4 {
            color: #0066cc;
            margin-bottom: 8px;
        }
        
        .checklist {
            background: #f0f8f0;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .checklist h4 {
            color: #28a745;
            margin-bottom: 15px;
        }
        
        .checklist-item {
            padding: 8px 0;
            border-bottom: 1px solid #d4edda;
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Interactive Content Workflow</h1>
            <p>Transform any AI into your personal content expert through systematic context engineering</p>
        </div>
        
        <!-- Landing Screen -->
        <div class="landing" id="landingScreen">
            <h2>Choose Your Path</h2>
            
            <div class="path-container">
                <div class="path-option first-time" onclick="startFirstTime()">
                    <div class="path-icon">üÜï</div>
                    <div class="path-title">First Time User</div>
                    <div class="path-description">Build your content profile through guided Q&A, then create your first content</div>
                    <div class="path-time">‚è±Ô∏è 60 minutes</div>
                </div>
                
                <div class="path-option returning" onclick="startReturning()">
                    <div class="path-icon">üîÑ</div>
                    <div class="path-title">I Have My Context</div>
                    <div class="path-description">Jump straight to content creation using your saved context package</div>
                    <div class="path-time">‚ö° 15 minutes</div>
                </div>
            </div>
            
            <div class="explanation" style="margin-top: 30px;">
                <h4>üîç Not Sure Which to Choose?</h4>
                <p><strong>First Time:</strong> Choose this if you've never used this workflow before. We'll build your complete content profile.</p>
                <p><strong>Have Context:</strong> Choose this if you've already built your context profile and saved the package from a previous session.</p>
            </div>
        </div>
        
        <!-- Returning User Path -->
        <div class="phase hidden" id="returningUser">
            <div class="phase-header">
                <div class="phase-number">üîÑ</div>
                <h2>Welcome Back! Let's Create Content</h2>
            </div>
            
            <div class="explanation">
                <h4>üìã Quick Setup</h4>
                <p>Paste your saved context package below and we'll jump straight to content creation. Your entire profile will be loaded instantly.</p>
            </div>
            
            <div class="form-group">
                <label for="contextPackageInput">Paste Your Context Package:</label>
                <textarea id="contextPackageInput" rows="10" placeholder="CONTEXT PROFILE - [Your Name]

BRAND VOICE:
- Style: ...
- Approach: ...

(Paste your complete context package here)"></textarea>
            </div>
            
            <button class="btn" onclick="loadContext()">Load Context & Create Content ‚Üí</button>
            <button class="btn btn-secondary" onclick="backToLanding()">‚Üê Back</button>
        </div>
        
        <!-- First Time User Path -->
        <div class="explanation hidden" id="firstTimeExplanation">
            <h4>üîç Building Your Content DNA</h4>
            <p>We'll collect your brand voice, audience profile, key stories, and content preferences through 15 minutes of rapid Q&A. This creates a reusable context profile that makes AI sound authentically you.</p>
            <p><strong>What You'll Get:</strong> Professional content for 1-2 platforms + a reusable context package for future 15-minute content creation sessions.</p>
            <p><strong>The Process:</strong> Context Collection (15 min) ‚Üí Content Creation (30 min) ‚Üí Platform Cascade (10 min) ‚Üí Save Your System (5 min)</p>
        </div>
        
        <div class="progress-bar hidden" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <!-- Phase 1: Context Collection -->
        <div class="phase hidden" id="phase1">
            <div class="phase-header">
                <div class="phase-number">1</div>
                <h2>Context Collection (15 minutes)</h2>
            </div>
            
            <div class="explanation">
                <h4>üìã What We're Building</h4>
                <p>We'll collect your brand voice, audience profile, key stories, and content preferences through rapid Q&A. This creates a reusable context profile that makes AI sound authentically you.</p>
            </div>
            
            <div class="form-group">
                <label for="name">What's your name and what do you do?</label>
                <input type="text" id="name" placeholder="e.g., I'm Sarah, I run a SaaS company helping small businesses with inventory management">
            </div>
            
            <div class="form-group">
                <label for="voiceStyle">How do you naturally communicate? (3-5 descriptive words)</label>
                <input type="text" id="voiceStyle" placeholder="e.g., Conversational, analytical, empathetic, direct, curious">
            </div>
            
            <div class="form-group">
                <label for="signaturePhrases">What phrases or expressions do you find yourself using repeatedly?</label>
                <textarea id="signaturePhrases" placeholder="e.g., 'Here's the thing...', 'What I've learned is...', 'The reality is...'"></textarea>
            </div>
            
            <div class="form-group">
                <label for="balanceApproach">How do you balance being authoritative with being approachable?</label>
                <textarea id="balanceApproach" placeholder="e.g., I share specific examples and data, but always acknowledge I'm still learning too"></textarea>
            </div>
            
            <div class="form-group">
                <label for="audience">Who is your audience and what's their biggest struggle?</label>
                <textarea id="audience" placeholder="e.g., Small business owners who struggle with inventory tracking and waste too much time on manual processes"></textarea>
            </div>
            
            <div class="form-group">
                <label for="audiencePainPoints">What are 2-3 specific pain points your audience faces?</label>
                <textarea id="audiencePainPoints" placeholder="e.g., 1. They waste hours on manual data entry 2. They can't track inventory in real-time 3. They lose money on overstocking"></textarea>
            </div>
            
            <div class="form-group">
                <label for="keyStory">Tell me about a recent business experience that taught you something valuable:</label>
                <textarea id="keyStory" placeholder="e.g., We launched a feature nobody wanted, learned the importance of customer interviews, now we validate every idea first"></textarea>
            </div>
            
            <div class="form-group">
                <label for="storyLesson">What's the key lesson or insight from that experience?</label>
                <textarea id="storyLesson" placeholder="e.g., Always validate assumptions with real customer feedback before building"></textarea>
            </div>
            
            <div class="form-group">
                <label for="contentPerformance">What type of content works best for you? Any patterns you've noticed?</label>
                <textarea id="contentPerformance" placeholder="e.g., Behind-the-scenes stories with specific numbers perform well. People love transparency about business challenges"></textarea>
            </div>
            
            <div class="form-group">
                <label for="businessGoals">What are your main business goals for content?</label>
                <select id="businessGoals">
                    <option value="">Select primary goal...</option>
                    <option value="lead-generation">Generate qualified leads</option>
                    <option value="thought-leadership">Build thought leadership</option>
                    <option value="community-building">Build community/audience</option>
                    <option value="customer-education">Educate customers</option>
                    <option value="brand-awareness">Increase brand awareness</option>
                </select>
            </div>
            
            <div style="margin-top: 20px;">
                <button class="btn" onclick="completePhase1()">Build My Context Profile ‚Üí</button>
                <button class="btn btn-secondary" onclick="backToLanding()">‚Üê Back</button>
            </div>
        </div>
        
        <!-- Phase 2: Content Creation -->
        <div class="phase hidden" id="phase2">
            <div class="phase-header">
                <div class="phase-number">2</div>
                <h2>Content Creation (30 minutes)</h2>
            </div>
            
            <div class="context-summary" id="contextSummary">
                <h3>üìã Your Context Profile</h3>
                <div id="contextDisplay"></div>
            </div>
            
            <div class="explanation">
                <h4>‚úçÔ∏è Content Generation</h4>
                <p>Now we'll use your context profile to create platform-specific content. Your voice, audience insights, and stories will be applied automatically.</p>
            </div>
            
            <div class="form-group">
                <label for="contentType">What type of content do you want to create?</label>
                <select id="contentType">
                    <option value="">Select content type...</option>
                    <option value="linkedin">LinkedIn Post (Professional, thought leadership)</option>
                    <option value="newsletter">Newsletter (Deep dive, series-based)</option>
                    <option value="twitter">Twitter Thread (Quick take, viral potential)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="contentTopic">What's your topic or angle?</label>
                <textarea id="contentTopic" placeholder="e.g., How customer feedback taught us our business positioning, the importance of validating ideas before building"></textarea>
            </div>
            
            <button class="btn" onclick="generateContent()">Generate Content ‚Üí</button>
            
            <div class="content-output hidden" id="contentOutput"></div>
        </div>
        
        <!-- Phase 3: Platform Cascade -->
        <div class="phase hidden" id="phase3">
            <div class="phase-header">
                <div class="phase-number">3</div>
                <h2>Platform Cascade (10 minutes)</h2>
            </div>
            
            <div class="explanation">
                <h4>üì± Multi-Platform Adaptation</h4>
                <p>We'll adapt your core content to additional platforms while maintaining voice consistency and optimizing for each platform's format.</p>
            </div>
            
            <div class="form-group">
                <label for="additionalPlatform">Adapt to which additional platform?</label>
                <select id="additionalPlatform">
                    <option value="">Select option...</option>
                    <option value="skip">Skip - I'm happy with my current content</option>
                    <option value="twitter">Twitter Thread (7-tweet format)</option>
                    <option value="linkedin">LinkedIn Post (Professional format)</option>
                    <option value="newsletter">Newsletter Section (Detailed format)</option>
                </select>
            </div>
            
            <button class="btn" onclick="adaptContent()">Continue ‚Üí</button>
            
            <div class="content-output hidden" id="adaptedContent"></div>
        </div>
        
        <!-- Phase 4: Performance Setup -->
        <div class="phase hidden" id="phase4">
            <div class="phase-header">
                <div class="phase-number">4</div>
                <h2>Your Content System is Ready! (5 minutes)</h2>
            </div>
            
            <div class="checklist">
                <h4>‚úÖ Congratulations! Your Content System is Complete</h4>
                <div class="checklist-item">‚úì Context profile built and validated</div>
                <div class="checklist-item">‚úì Professional content generated using your authentic voice</div>
                <div class="checklist-item">‚úì Multi-platform adaptation completed</div>
                <div class="checklist-item">‚úì Context package ready for future use</div>
            </div>
            
            <div class="context-summary" id="generatedContentSummary">
                <h3>üìù Your Generated Content</h3>
                <div id="contentSummaryDisplay"></div>
            </div>
            
            <div class="context-summary">
                <h3>üíæ SAVE THIS: Your Context Package</h3>
                <p><strong style="color: #dc3545;">‚ö†Ô∏è IMPORTANT:</strong> Copy and save this context package! This is your ticket to 15-minute content creation sessions.</p>
                
                <div class="content-output" id="contextPackage"></div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button class="btn" onclick="copyContextPackage()">üìã Copy to Clipboard</button>
                    <button class="btn btn-secondary" onclick="downloadContextPackage()">üíæ Download as File</button>
                </div>
            </div>
            
            <div class="explanation">
                <h4>üöÄ How to Use This for 15-Minute Content Creation</h4>
                <ol>
                    <li><strong>Save your context package</strong> somewhere safe (notes app, file, etc.)</li>
                    <li><strong>Next time you want content:</strong> Choose "I Have My Context" on this artifact</li>
                    <li><strong>Paste your context package</strong> and create content in 15 minutes</li>
                </ol>
                
                <p><strong>Alternative:</strong> Start a new Claude conversation, paste your context package, and say "Create a [LinkedIn post/newsletter/Twitter thread] about [topic] using this context."</p>
            </div>
            
            <button class="btn btn-secondary" onclick="backToLanding()">‚Üê Create More Content</button>
        </div>
        
        <!-- Quick Content Creation (Returning Users) -->
        <div class="phase hidden" id="quickContentCreation">
            <div class="phase-header">
                <div class="phase-number">‚ö°</div>
                <h2>Quick Content Creation (15 minutes)</h2>
            </div>
            
            <div class="explanation">
                <h4>‚ú® Context Loaded Successfully!</h4>
                <p>Your profile is ready. Let's create content using your established voice and expertise.</p>
            </div>
            
            <div class="form-group">
                <label for="quickContentType">What type of content do you want to create?</label>
                <select id="quickContentType">
                    <option value="">Select content type...</option>
                    <option value="linkedin">LinkedIn Post (Professional, thought leadership)</option>
                    <option value="newsletter">Newsletter (Deep dive, series-based)</option>
                    <option value="twitter">Twitter Thread (Quick take, viral potential)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="quickContentTopic">What's your topic or angle?</label>
                <textarea id="quickContentTopic" placeholder="e.g., How customer feedback changed our business strategy, the importance of testing assumptions"></textarea>
            </div>
            
            <button class="btn" onclick="generateQuickContent()">Generate Content ‚Üí</button>
            <button class="btn btn-secondary" onclick="backToLanding()">‚Üê Back</button>
            
            <div class="content-output hidden" id="quickContentOutput"></div>
            
            <div class="hidden" id="quickContentComplete">
                <div class="checklist" style="margin-top: 30px;">
                    <h4>‚úÖ Content Generated Successfully!</h4>
                    <div class="checklist-item">‚úì Professional content created using your authentic voice</div>
                    <div class="checklist-item">‚úì Platform optimization applied</div>
                    <div class="checklist-item">‚úì Ready for publication</div>
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <button class="btn" onclick="adaptQuickContent()">üîÑ Adapt to Another Platform</button>
                    <button class="btn btn-secondary" onclick="backToLanding()">‚Üê Create More Content</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentPhase = 1;
        let contextData = {};
        let generatedContent = '';
        let adaptedContent = '';
        let originalPlatform = '';
        let adaptedPlatform = '';
        let isFirstTime = true;
        
        function startFirstTime() {
            isFirstTime = true;
            document.getElementById('landingScreen').classList.add('hidden');
            document.getElementById('firstTimeExplanation').classList.remove('hidden');
            document.getElementById('progressBar').classList.remove('hidden');
            currentPhase = 1;
            showPhase(1);
        }
        
        function startReturning() {
            isFirstTime = false;
            document.getElementById('landingScreen').classList.add('hidden');
            hideAllPhases(); // Hide all phases including the default active Phase 1
            document.getElementById('returningUser').classList.remove('hidden');
        }
        
        function backToLanding() {
            // Hide all phases and screens
            hideAllPhases();
            document.getElementById('returningUser').classList.add('hidden');
            document.getElementById('firstTimeExplanation').classList.add('hidden');
            document.getElementById('progressBar').classList.add('hidden');
            
            // Show landing
            document.getElementById('landingScreen').classList.remove('hidden');
            
            // Reset state
            currentPhase = 1;
            contextData = {};
            generatedContent = '';
            adaptedContent = '';
            originalPlatform = '';
            adaptedPlatform = '';
        }
        
        function loadContext() {
            const contextInput = document.getElementById('contextPackageInput').value.trim();
            
            if (!contextInput) {
                alert('Please paste your context package first.');
                return;
            }
            
            // Parse the context package (simplified parsing)
            const lines = contextInput.split('\n');
            const nameMatch = lines[0].match(/CONTEXT PROFILE - (.+)/);
            
            if (!nameMatch) {
                alert('Invalid context package format. Please check your context package and try again.');
                return;
            }
            
            // Extract basic info for display
            contextData.name = nameMatch[1];
            contextData.voiceStyle = 'Loaded from context package';
            contextData.audience = 'Loaded from context package';
            
            // Hide returning user screen and go directly to content creation
            document.getElementById('returningUser').classList.add('hidden');
            showQuickContentCreation();
        }
        
        function showQuickContentCreation() {
            document.getElementById('quickContentCreation').classList.remove('hidden');
        }
        
        function updateProgress() {
            const progress = (currentPhase - 1) * 25;
            if (document.getElementById('progressFill')) {
                document.getElementById('progressFill').style.width = progress + '%';
            }
        }
        
        function hideAllPhases() {
            for (let i = 1; i <= 4; i++) {
                const phase = document.getElementById(`phase${i}`);
                if (phase) {
                    phase.classList.add('hidden');
                    phase.classList.remove('active');
                    if (i < currentPhase) {
                        phase.classList.add('completed');
                    }
                }
            }
            
            // Also hide other screens
            const otherScreens = ['quickContentCreation', 'returningUser'];
            otherScreens.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.add('hidden');
            });
        }
        
        function showPhase(phaseNum) {
            hideAllPhases();
            const phase = document.getElementById(`phase${phaseNum}`);
            if (phase) {
                phase.classList.remove('hidden');
                phase.classList.add('active');
                updateProgress();
            }
        }
        
        function completePhase1() {
            // Collect all form data
            contextData = {
                name: document.getElementById('name').value,
                voiceStyle: document.getElementById('voiceStyle').value,
                signaturePhrases: document.getElementById('signaturePhrases').value,
                balanceApproach: document.getElementById('balanceApproach').value,
                audience: document.getElementById('audience').value,
                audiencePainPoints: document.getElementById('audiencePainPoints').value,
                keyStory: document.getElementById('keyStory').value,
                storyLesson: document.getElementById('storyLesson').value,
                contentPerformance: document.getElementById('contentPerformance').value,
                businessGoals: document.getElementById('businessGoals').value
            };
            
            // Validate required fields
            if (!contextData.name || !contextData.voiceStyle || !contextData.audience) {
                alert('Please fill in at least your name, communication style, and audience information.');
                return;
            }
            
            // Build structured context profiles
            buildStructuredProfiles();
            
            // Display context summary
            displayContextSummary();
            
            // Move to phase 2
            currentPhase = 2;
            showPhase(2);
        }
        
        function buildStructuredProfiles() {
            // Build simplified but structured context profiles
            contextData.structuredProfiles = {
                brandVoice: {
                    corePersonality: {
                        primaryTraits: contextData.voiceStyle.split(',').map(trait => trait.trim()),
                        communicationPhilosophy: contextData.balanceApproach || 'Balanced approach to sharing expertise'
                    },
                    signatureElements: {
                        distinctivePhrases: contextData.signaturePhrases ? contextData.signaturePhrases.split(',').map(phrase => phrase.trim()) : [],
                        balancePoints: {
                            authorityApproachability: contextData.balanceApproach || 'Shares expertise while remaining accessible'
                        }
                    },
                    structuralPatterns: {
                        linkedin: {
                            openingStyle: 'Story-driven or insight-based',
                            engagementApproach: 'Questions that invite reflection'
                        },
                        newsletter: {
                            openingStyle: 'Personal experience or observation',
                            contentFlow: 'Story ‚Üí Insight ‚Üí Application'
                        },
                        twitter: {
                            openingStyle: 'Contrarian take or quick insight',
                            engagementApproach: 'Questions that spark discussion'
                        }
                    }
                },
                audienceProfile: {
                    primaryAudience: {
                        description: contextData.audience,
                        painPoints: contextData.audiencePainPoints ? contextData.audiencePainPoints.split('\n').filter(point => point.trim()) : [],
                        contentPreferences: contextData.contentPerformance || 'Stories with specific outcomes'
                    },
                    engagementStyle: 'Authentic experience sharing with practical insights'
                },
                storyBank: {
                    coreNarratives: [{
                        story: contextData.keyStory,
                        lesson: contextData.storyLesson,
                        category: 'business_journey',
                        applications: ['positioning', 'validation', 'strategy']
                    }],
                    narrativeStructures: {
                        problemSolution: 'Identify problem ‚Üí Share experience ‚Üí Reveal insight ‚Üí Apply lesson',
                        journeyStory: 'Challenge ‚Üí Learning ‚Üí Transformation ‚Üí Application'
                    }
                },
                businessContext: {
                    positioning: contextData.name,
                    contentStrategy: {
                        objectives: [contextData.businessGoals],
                        successMetrics: contextData.contentPerformance || 'Engagement and practical value'
                    }
                }
            };
        }
        
        function displayContextSummary() {
            const contextDisplay = document.getElementById('contextDisplay');
            contextDisplay.innerHTML = `
                <div class="context-item"><strong>Creator:</strong> ${contextData.name}</div>
                <div class="context-item"><strong>Voice Style:</strong> ${contextData.voiceStyle}</div>
                <div class="context-item"><strong>Signature Phrases:</strong> ${contextData.signaturePhrases || 'Not provided'}</div>
                <div class="context-item"><strong>Audience:</strong> ${contextData.audience}</div>
                <div class="context-item"><strong>Pain Points:</strong> ${contextData.audiencePainPoints || 'Not provided'}</div>
                <div class="context-item"><strong>Key Story:</strong> ${contextData.keyStory || 'Not provided'}</div>
                <div class="context-item"><strong>Lesson:</strong> ${contextData.storyLesson || 'Not provided'}</div>
                <div class="context-item"><strong>Content Performance:</strong> ${contextData.contentPerformance || 'Not provided'}</div>
                <div class="context-item"><strong>Business Goals:</strong> ${contextData.businessGoals || 'Not specified'}</div>
            `;
        }
        
        function generateContent() {
            const contentType = document.getElementById('contentType').value;
            const contentTopic = document.getElementById('contentTopic').value;
            
            if (!contentType || !contentTopic) {
                alert('Please select a content type and provide a topic.');
                return;
            }
            
            // Track original platform and content
            originalPlatform = contentType;
            
            // Generate content based on context and selections
            generatedContent = createContent(contentType, contentTopic);
            
            // Display generated content
            const output = document.getElementById('contentOutput');
            output.innerHTML = generatedContent;
            output.classList.remove('hidden');
            
            // Move to phase 3
            currentPhase = 3;
            showPhase(3);
            
            // Update platform options to exclude the already-selected platform
            updatePlatformOptions();
        }
        
        function createContent(type, topic) {
            const profiles = contextData.structuredProfiles;
            const voiceElements = contextData.voiceStyle.toLowerCase();
            const audienceInfo = contextData.audience;
            const story = contextData.keyStory;
            const name = contextData.name.split(',')[0].trim();
            
            if (type === 'linkedin') {
                return createLinkedInPost(topic, profiles, name);
            } else if (type === 'newsletter') {
                return createNewsletterContent(topic, profiles, name);
            } else if (type === 'twitter') {
                return createTwitterThread(topic, profiles, name);
            }
        }
        
        function createLinkedInPost(topic, profiles, name) {
            const brandVoice = profiles.brandVoice;
            const audience = profiles.audienceProfile.primaryAudience;
            const storyBank = profiles.storyBank;
            const coreStory = storyBank.coreNarratives[0];
            
            // Extract opening style and engagement approach
            const openingStyle = brandVoice.structuralPatterns.linkedin.openingStyle;
            const engagementApproach = brandVoice.structuralPatterns.linkedin.engagementApproach;
            
            // Use signature phrases if available
            const signaturePhrase = brandVoice.signatureElements.distinctivePhrases.length > 0 
                ? brandVoice.signatureElements.distinctivePhrases[0] 
                : 'Here\'s what I learned';
            
            // Build content using structured patterns
            let content = '';
            
            if (openingStyle.includes('story-driven')) {
                content += `Most people think ${topic.split(' ')[0].toLowerCase()} is straightforward.\n\nI used to be one of them.\n\n`;
            } else {
                content += `${signaturePhrase}: ${topic} isn't what most people think it is.\n\n`;
            }
            
            content += `${coreStory.story}\n\n`;
            content += `This taught me something important: ${coreStory.lesson}.\n\n`;
            content += `Here's what I learned about ${audience.description.split(' ').slice(0, 3).join(' ')}:\n\n`;
            
            // Add pain point connection if available
            if (audience.painPoints.length > 0) {
                content += `The challenge isn't just ${topic.split(' ').slice(-3).join(' ')}. It's understanding that ${audience.painPoints[0].toLowerCase()}.\n\n`;
            }
            
            content += `When ${coreStory.story.split(' ').slice(0, 10).join(' ')}, I realized we were solving the wrong problem.\n\n`;
            content += `The real insight: ${topic} isn't about perfection. It's about listening to what your ${audience.description.split(' ').slice(0, 2).join(' ')} actually need.\n\n`;
            
            // Add engagement question based on approach
            if (engagementApproach.includes('reflection')) {
                content += `What patterns are you seeing in your ${audience.description.split(' ').slice(-2).join(' ')} that you might be overlooking?\n\n`;
            } else {
                content += `What's your experience with ${topic.toLowerCase()}?\n\n`;
            }
            
            // Add voice-specific closing
            const traits = brandVoice.corePersonality.primaryTraits;
            if (traits.some(trait => trait.toLowerCase().includes('analytical'))) {
                content += 'The data always tells a story - we just need to listen.';
            } else if (traits.some(trait => trait.toLowerCase().includes('empathetic'))) {
                content += 'Sometimes the best insights come from genuine curiosity about others.';
            } else {
                content += 'Experience teaches, but reflection reveals the lessons.';
            }
            
            return content;
        }
        
        function createNewsletterContent(topic, profiles, name) {
            const brandVoice = profiles.brandVoice;
            const audience = profiles.audienceProfile.primaryAudience;
            const storyBank = profiles.storyBank;
            const coreStory = storyBank.coreNarratives[0];
            const businessContext = profiles.businessContext;
            
            // Extract newsletter structure
            const contentFlow = brandVoice.structuralPatterns.newsletter.contentFlow;
            const openingStyle = brandVoice.structuralPatterns.newsletter.openingStyle;
            
            // Use signature phrases if available
            const signaturePhrase = brandVoice.signatureElements.distinctivePhrases.length > 0 
                ? brandVoice.signatureElements.distinctivePhrases[0] 
                : 'Here\'s what I learned';
            
            let content = `# ${topic.charAt(0).toUpperCase() + topic.slice(1)}: A ${name.split(' ')[0]} Perspective\n\n`;
            
            // Opening based on style
            if (openingStyle.includes('personal experience')) {
                content += `## The Moment Everything Changed\n\n`;
                content += `${coreStory.story}\n\n`;
                content += `This experience fundamentally shifted how I think about ${topic}. But more importantly, it revealed something crucial about ${audience.description}.\n\n`;
            } else {
                content += `## ${signaturePhrase}\n\n`;
                content += `I've been thinking a lot about ${topic} lately, especially after ${coreStory.story.toLowerCase()}.\n\n`;
            }
            
            content += `## What This Means for You\n\n`;
            content += `If you're working with ${audience.description.split(' ').slice(0, 3).join(' ')}, you've probably noticed the same pattern I missed for months:\n\n`;
            content += `**The obvious solution isn't always the right solution.**\n\n`;
            content += `Here's what I've learned:\n\n`;
            
            // Add pain points if available
            if (audience.painPoints.length > 0) {
                content += `### 1. Listen Before You Build\n`;
                content += `${coreStory.story.split('.')[0]}. This taught me that ${audience.painPoints[0].toLowerCase()}.\n\n`;
            }
            
            content += `### 2. Your Audience Knows More Than You Think\n`;
            content += `${audience.description} often understand their problems better than we understand our solutions. The key is creating space for that knowledge to surface.\n\n`;
            
            content += `### 3. ${topic.charAt(0).toUpperCase() + topic.slice(1)} is a Conversation, Not a Broadcast\n`;
            const traits = brandVoice.corePersonality.primaryTraits;
            if (traits.some(trait => trait.toLowerCase().includes('conversational'))) {
                content += 'Every interaction is an opportunity to learn something new.\n\n';
            } else {
                content += 'The best insights come from genuine dialogue.\n\n';
            }
            
            content += `## The Practical Application\n\n`;
            content += `Next time you're facing ${topic}, try this:\n\n`;
            content += `1. **Ask before you assume** - What does your ${audience.description.split(' ').slice(0, 2).join(' ')} actually need?\n`;
            content += `2. **Test before you scale** - Small experiments reveal big insights\n`;
            content += `3. **Listen for patterns** - Your audience will tell you what works\n\n`;
            
            content += `## What's Next\n\n`;
            if (traits.some(trait => trait.toLowerCase().includes('analytical'))) {
                content += 'I\'ll be tracking how this approach performs and sharing the data.\n\n';
            } else {
                content += 'I\'d love to hear how this resonates with your experience.\n\n';
            }
            
            content += `What patterns are you seeing that challenge your assumptions?\n\n`;
            content += `${name}`;
            
            return content;
        }
        
        function createTwitterThread(topic, profiles, name) {
            const brandVoice = profiles.brandVoice;
            const audience = profiles.audienceProfile.primaryAudience;
            const storyBank = profiles.storyBank;
            const coreStory = storyBank.coreNarratives[0];
            
            // Extract Twitter structure
            const openingStyle = brandVoice.structuralPatterns.twitter.openingStyle;
            const engagementApproach = brandVoice.structuralPatterns.twitter.engagementApproach;
            
            // Use signature phrases if available
            const signaturePhrase = brandVoice.signatureElements.distinctivePhrases.length > 0 
                ? brandVoice.signatureElements.distinctivePhrases[0] 
                : 'Here\'s what I learned';
            
            let content = '';
            
            // Opening based on style
            if (openingStyle.includes('contrarian')) {
                content += `üßµ THREAD: Most people approach ${topic} backwards.\n\n`;
                content += `I did too, until I learned this lesson the hard way.\n\n`;
                content += `Here's what changed everything: üëá\n\n`;
            } else {
                content += `üßµ THREAD: Most people think ${topic} is simple.\n\n`;
                content += `I learned the hard way it's not.\n\n`;
                content += `Here's what ${coreStory.story.split(' ').slice(0, 10).join(' ')} taught me: üëá\n\n`;
            }
            
            content += `1/ ${coreStory.story.split('.')[0]}.\n\n`;
            content += `This was a wake-up call about ${topic}.\n\n`;
            
            content += `2/ The problem: I was solving for what I *thought* ${audience.description.split(' ').slice(0, 2).join(' ')} needed.\n\n`;
            content += `The reality: They needed something completely different.\n\n`;
            
            content += `3/ **Key insight:** Your audience often sees solutions more clearly than you do.\n\n`;
            const traits = brandVoice.corePersonality.primaryTraits;
            if (traits.some(trait => trait.toLowerCase().includes('analytical'))) {
                content += 'The data proved this repeatedly.\n\n';
            } else {
                content += 'Experience taught me to listen first.\n\n';
            }
            
            content += `4/ Here's what changed everything:\n\n`;
            content += `Instead of assuming, I started asking:\n`;
            content += `‚Ä¢ What's the real problem?\n`;
            content += `‚Ä¢ What have you tried?\n`;
            content += `‚Ä¢ What would ideal look like?\n\n`;
            
            content += `5/ Result: ${coreStory.story.split(' ').slice(-10).join(' ')}.\n\n`;
            content += `This wasn't luck. It was listening.\n\n`;
            
            content += `6/ **The pattern:** ${topic} works when you:\n\n`;
            content += `‚Üí Ask before you assume\n`;
            content += `‚Üí Test before you scale  \n`;
            content += `‚Üí Listen for what's unsaid\n\n`;
            
            content += `7/ Question for you:\n\n`;
            content += `What patterns are you seeing in your ${audience.description.split(' ').slice(-2).join(' ')} that challenge your assumptions?\n\n`;
            
            if (engagementApproach.includes('discussion')) {
                content += 'The best insights come from shared experiences.';
            } else if (traits.some(trait => trait.toLowerCase().includes('empathetic'))) {
                content += 'Curious to hear your experience.';
            } else {
                content += 'The best insights come from shared experiences.';
            }
            
            return content;
        }
        
        function adaptContent() {
            const platform = document.getElementById('additionalPlatform').value;
            
            if (!platform) {
                alert('Please select an option to continue.');
                return;
            }
            
            // Handle skip option
            if (platform === 'skip') {
                adaptedPlatform = 'none';
                adaptedContent = '';
                // Move directly to phase 4 without creating adapted content
                currentPhase = 4;
                showPhase(4);
                generateContextPackage();
                return;
            }
            
            // Track adapted platform and generate content
            adaptedPlatform = platform;
            adaptedContent = createContent(platform, document.getElementById('contentTopic').value);
            
            const output = document.getElementById('adaptedContent');
            output.innerHTML = `<h3>üì± ${platform.charAt(0).toUpperCase() + platform.slice(1)} Adaptation</h3>\n\n${adaptedContent}`;
            output.classList.remove('hidden');
            
            // Move to phase 4
            currentPhase = 4;
            showPhase(4);
            
            // Generate context package
            generateContextPackage();
        }
        
        function updatePlatformOptions() {
            const selectedPlatform = document.getElementById('contentType').value;
            const dropdown = document.getElementById('additionalPlatform');
            
            // Reset dropdown
            dropdown.innerHTML = `
                <option value="">Select option...</option>
                <option value="skip">Skip - I'm happy with my current content</option>
            `;
            
            // Add platforms except the one already selected
            if (selectedPlatform !== 'twitter') {
                dropdown.innerHTML += '<option value="twitter">Twitter Thread (7-tweet format)</option>';
            }
            if (selectedPlatform !== 'linkedin') {
                dropdown.innerHTML += '<option value="linkedin">LinkedIn Post (Professional format)</option>';
            }
            if (selectedPlatform !== 'newsletter') {
                dropdown.innerHTML += '<option value="newsletter">Newsletter Section (Detailed format)</option>';
            }
        }
        
        function generateContextPackage() {
            const profiles = contextData.structuredProfiles;
            const brandVoice = profiles.brandVoice;
            const audience = profiles.audienceProfile.primaryAudience;
            const storyBank = profiles.storyBank;
            const businessContext = profiles.businessContext;
            
            const packageContent = `CONTEXT PROFILE - ${contextData.name}

BRAND VOICE:
- Primary Traits: ${brandVoice.corePersonality.primaryTraits.join(', ')}
- Communication Philosophy: ${brandVoice.corePersonality.communicationPhilosophy}
- Signature Phrases: ${brandVoice.signatureElements.distinctivePhrases.join(', ') || 'Not specified'}
- Balance Approach: ${brandVoice.signatureElements.balancePoints.authorityApproachability}

STRUCTURAL PATTERNS:
- LinkedIn: ${brandVoice.structuralPatterns.linkedin.openingStyle} | ${brandVoice.structuralPatterns.linkedin.engagementApproach}
- Newsletter: ${brandVoice.structuralPatterns.newsletter.openingStyle} | ${brandVoice.structuralPatterns.newsletter.contentFlow}
- Twitter: ${brandVoice.structuralPatterns.twitter.openingStyle} | ${brandVoice.structuralPatterns.twitter.engagementApproach}

AUDIENCE PROFILE:
- Description: ${audience.description}
- Pain Points: ${audience.painPoints.join('; ') || 'Not specified'}
- Content Preferences: ${audience.contentPreferences}
- Engagement Style: ${profiles.audienceProfile.engagementStyle}

STORY BANK:
- Primary Story: ${storyBank.coreNarratives[0].story}
- Key Lesson: ${storyBank.coreNarratives[0].lesson}
- Category: ${storyBank.coreNarratives[0].category}
- Applications: ${storyBank.coreNarratives[0].applications.join(', ')}
- Narrative Structure: ${storyBank.narrativeStructures.problemSolution}

BUSINESS CONTEXT:
- Positioning: ${businessContext.positioning}
- Content Objectives: ${businessContext.contentStrategy.objectives.join(', ')}
- Success Metrics: ${businessContext.contentStrategy.successMetrics}

USAGE INSTRUCTIONS:
To create new content, paste this context into Claude with:
"Create a [LinkedIn post/newsletter/Twitter thread] about [topic] using this context profile:"

This system is ready for 15-minute content creation sessions.`;
            
            document.getElementById('contextPackage').textContent = packageContent;
            
            // Display content summary
            displayContentSummary();
        }
        
        function displayContentSummary() {
            const summaryDisplay = document.getElementById('contentSummaryDisplay');
            let summaryHTML = '';
            
            // Show original content
            const platformNames = {
                'linkedin': 'LinkedIn Post',
                'newsletter': 'Newsletter',
                'twitter': 'Twitter Thread'
            };
            
            summaryHTML += `<div class="content-output">
                <h4>üìù ${platformNames[originalPlatform] || originalPlatform}</h4>
                ${generatedContent}
            </div>`;
            
            // Show adapted content if any
            if (adaptedPlatform && adaptedPlatform !== 'none' && adaptedContent) {
                summaryHTML += `<div class="content-output">
                    <h4>üì± ${platformNames[adaptedPlatform] || adaptedPlatform} Adaptation</h4>
                    ${adaptedContent}
                </div>`;
            }
            
            summaryDisplay.innerHTML = summaryHTML;
        }
        
        function copyContextPackage() {
            const content = document.getElementById('contextPackage').textContent;
            navigator.clipboard.writeText(content).then(() => {
                alert('Context package copied to clipboard! Save this somewhere safe.');
            }).catch(err => {
                alert('Copy failed. Please manually select and copy the text.');
            });
        }
        
        function downloadContextPackage() {
            const content = document.getElementById('contextPackage').textContent;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'my-content-context.txt';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function generateQuickContent() {
            const contentType = document.getElementById('quickContentType').value;
            const contentTopic = document.getElementById('quickContentTopic').value;
            
            if (!contentType || !contentTopic) {
                alert('Please select a content type and provide a topic.');
                return;
            }
            
            // Get the full context from the input
            const contextInput = document.getElementById('contextPackageInput').value;
            
            // Generate content using the context
            const quickContent = createContentFromContext(contentType, contentTopic, contextInput);
            
            // Display the content
            const output = document.getElementById('quickContentOutput');
            output.innerHTML = quickContent;
            output.classList.remove('hidden');
            
            // Show completion section
            document.getElementById('quickContentComplete').classList.remove('hidden');
        }
        
        function createContentFromContext(type, topic, context) {
            // Extract name from context for personalization
            const nameMatch = context.match(/CONTEXT PROFILE - (.+)/);
            const name = nameMatch ? nameMatch[1] : 'Creator';
            
            // Create content based on type
            if (type === 'linkedin') {
                return createLinkedInFromContext(topic, name, context);
            } else if (type === 'newsletter') {
                return createNewsletterFromContext(topic, name, context);
            } else if (type === 'twitter') {
                return createTwitterFromContext(topic, name, context);
            }
        }
        
        function createLinkedInFromContext(topic, name, context) {
            // Extract a better subject from the topic
            const topicWords = topic.split(' ');
            let subject = 'design decisions';
            
            // Try to find a better subject from the topic
            if (topic.toLowerCase().includes('design')) subject = 'design';
            if (topic.toLowerCase().includes('mistake')) subject = 'avoiding mistakes';
            if (topic.toLowerCase().includes('automation')) subject = 'automation';
            if (topic.toLowerCase().includes('framework')) subject = 'frameworks';
            
            return `Most people think ${subject} is straightforward.

I used to be one of them.

Then I learned that ${topic.toLowerCase().replace('the ', '').replace('how ', '')} is actually about understanding your audience better than they understand themselves.

Here's what changed my perspective:

${subject.charAt(0).toUpperCase() + subject.slice(1)} isn't just about having the right strategy. It's about listening to the signals your audience is constantly sending you.

The breakthrough moment: When you stop assuming you know what they need and start paying attention to what they're actually telling you.

This shift in approach has fundamentally changed how I think about solving problems.

**The key insight:** Your audience often sees solutions more clearly than you do. They're not burdened by your assumptions or technical constraints.

When you create space for that feedback to surface, everything becomes clearer.

What patterns are you seeing in your audience feedback that you might be overlooking?

Sometimes the best business insights come from simply listening better.`;
        }
        
        function createNewsletterFromContext(topic, name, context) {
            return `# ${topic.charAt(0).toUpperCase() + topic.slice(1)}: A ${name} Perspective

## The Moment Everything Clicked

I've been thinking a lot about ${topic} lately, especially after some recent experiences that completely shifted my perspective.

For the longest time, I approached ${topic} the way most people do: with a set of assumptions about what works and what doesn't.

But here's what I learned: ${topic} is less about perfect execution and more about genuine understanding.

## What This Means in Practice

If you're working on ${topic}, you've probably experienced the same frustration I had:

**You think you understand the problem, but the solution keeps slipping away.**

Here's what I've discovered:

### 1. Listen Before You Act
The best insights about ${topic} come from paying attention to what your audience is actually telling you, not what you think they should want.

### 2. Question Your Assumptions
Every assumption you have about ${topic} is worth examining. The ones that feel most obvious are often the ones worth questioning first.

### 3. Create Space for Feedback
${topic} gets easier when you build systems that capture genuine feedback rather than just validating what you already believe.

## The Practical Application

Next time you're dealing with ${topic}, try this approach:

1. **Ask open-ended questions** - What do you actually need here?
2. **Listen for surprises** - The unexpected answers are usually the most valuable
3. **Test small** - Validate before you scale

## What's Next

I'm continuing to explore how this approach applies across different contexts. The patterns are consistent: better listening leads to better outcomes.

What has your experience been with ${topic}? I'd love to hear what's worked for you.

${name}`;
        }
        
        function createTwitterFromContext(topic, name, context) {
            return `üßµ THREAD: Most people approach ${topic} backwards.

I did too, until I learned this lesson the hard way.

Here's what changed everything: üëá

1/ The common approach to ${topic}: Start with what you think the solution should be.

The better approach: Start with understanding the actual problem.

Big difference.

2/ I used to think ${topic} was about having the right framework or strategy.

Turns out it's mostly about listening better.

3/ **Key insight:** Your audience often has better solutions than you do.

They're not constrained by your assumptions or technical limitations.

They just see what works.

4/ Here's what this looks like in practice:

‚Üí Ask more questions than you answer
‚Üí Listen for what surprises you  
‚Üí Test ideas before falling in love with them

5/ The result: ${topic} becomes less about guessing and more about discovering.

Less about being right and more about being useful.

6/ **Question for you:**

What patterns are you seeing around ${topic} that challenge conventional wisdom?

The best insights often come from shared experiences.

7/ Bottom line: ${topic} gets easier when you stop trying to be the expert and start being genuinely curious.

What's been your experience?`;
        }
        
        function adaptQuickContent() {
            // Show platform selection for adaptation
            const quickContentOutput = document.getElementById('quickContentOutput');
            const adaptationHTML = `
                <div style="border-top: 2px solid #e9ecef; padding-top: 20px; margin-top: 20px;">
                    <h4>üì± Adapt to Another Platform</h4>
                    <div class="form-group">
                        <label for="quickAdaptPlatform">Select platform for adaptation:</label>
                        <select id="quickAdaptPlatform">
                            <option value="">Select platform...</option>
                        </select>
                    </div>
                    <button class="btn" onclick="generateQuickAdaptation()">Create Adaptation ‚Üí</button>
                    <button class="btn btn-secondary" onclick="cancelQuickAdaptation()">Cancel</button>
                </div>
            `;
            
            quickContentOutput.innerHTML += adaptationHTML;
            
            // Populate platform options excluding current platform
            const currentPlatform = document.getElementById('quickContentType').value;
            const dropdown = document.getElementById('quickAdaptPlatform');
            
            if (currentPlatform !== 'twitter') {
                dropdown.innerHTML += '<option value="twitter">Twitter Thread (7-tweet format)</option>';
            }
            if (currentPlatform !== 'linkedin') {
                dropdown.innerHTML += '<option value="linkedin">LinkedIn Post (Professional format)</option>';
            }
            if (currentPlatform !== 'newsletter') {
                dropdown.innerHTML += '<option value="newsletter">Newsletter Section (Detailed format)</option>';
            }
        }
        
        function generateQuickAdaptation() {
            const platform = document.getElementById('quickAdaptPlatform').value;
            const topic = document.getElementById('quickContentTopic').value;
            const context = document.getElementById('contextPackageInput').value;
            
            if (!platform) {
                alert('Please select a platform for adaptation.');
                return;
            }
            
            // Generate adapted content
            const adaptedContent = createContentFromContext(platform, topic, context);
            
            // Display the adapted content
            const quickContentOutput = document.getElementById('quickContentOutput');
            quickContentOutput.innerHTML += `
                <div class="content-output" style="margin-top: 20px;">
                    <h4>üì± ${platform.charAt(0).toUpperCase() + platform.slice(1)} Adaptation</h4>
                    ${adaptedContent}
                </div>
            `;
        }
        
        function cancelQuickAdaptation() {
            // Remove the adaptation section
            const quickContentOutput = document.getElementById('quickContentOutput');
            const adaptationSection = quickContentOutput.querySelector('div[style*="border-top"]');
            if (adaptationSection) {
                adaptationSection.remove();
            }
        }
        
        // Initialize
        updateProgress();
    </script>
</body>
</html>